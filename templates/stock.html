{% extends "base.html" %}
{% block head %}

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/luxon@^2"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@^1"></script>

{% endblock %}

{% block body %}
    <center>
    <div id="loading" style="width:100%;position: fixed;height:100vh;background:#fff;top:0;left:0; align-items: center;padding-top:40%">

        <img  src="/static/images/loading.gif">
    </div></center>
    <div class="blackout hidden" id="blackout">
    </div>
    <div class="popup hidden" id="atpPopup">
        <button class="transparent close" id="closePopup"><i class="fa-solid fa-xmark"></i></button>
        <h2>Add to portfolio</h2>
        <input placeholder="Price" value='' id="stockPriceP" type="number"><br>
        <input placeholder="Shares" value='1' id="stockPriceP" type="number"><br>
        <button class="btn btn-primary bottomButton">Add To Portfolio</button>
    </div>
    <div class="titleGrid">
        <div>
        <h1>{{ticker}}</h1>
        </div>
        <div>
            <button id="atp"><i class="fa-solid fa-plus"></i></button>
        </div>

    </div>

    <h1 style="font-weight: 600">$<a id="price"></a>   <a style="color:green; font-size:12px" id="trend"><i id="trendIndicate" class="fa-solid fa-angle-up"></i> $<a style="color:green; font-size:12px" id="change"></a> <a style="color:gray;font-size:12px">Today</a></a></h1>



        <canvas id="chartMine" ></canvas>
    <br><br>
    <h3>AI Prediction</h3><br>
    <center>
    <div id="predictionPlace"><div id="buy"></div><div id="sell"></div></div>
    <div style="padding-left:15px;display:grid;grid-template-columns: 50% 50%">
        <div style="width:100%;text-align:center">
            <h4 id="predictionResult" style="color:red">92% Sell</h4>
        </div>
        <div style="width:100%;text-align:center">
            <h4 id="accuracy" style="color:blue">74% Accuracy</h4>
        </div>
    </div>

</center>
    <br>
    <br>
    <br>
    <h3>Company Details</h3>
    <p style="font-weight: 400" id="companyName"></p>
    <p id="summary"></p>
    <script type="text/javascript" src="/static/js/stock.js"></script>
    <br><br>
    <nav class="navbar navbar-inverse navbar-fixed-bottom" style="width:100%;position: fixed;bottom:0px;left:0px;padding:20px;box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;background: white;">
          <div class="container-fluid" style="text-align: center; width: 100%;display: grid;grid-template-columns: 50% 50%; max-width: 1000px">
        <button id="openDiscover" style="width:100%;" onclick="window.location.assign('/')"><i class="fa fa-compass"></i></button>
        <button id="openSearch" style="width:100%;" onclick="window.location.assign('/')" class="active"><i class="fa-solid fa-magnifying-glass"></i></button>
    

    <style>
            button{
                background:none;
                border:0px solid#000;
                color:#4285F4;
            }
            .active{
                font-weight: 500;
                color:#7b35f2;
                

            }
            #searchRecommend{
                overflow-y:auto; 
            }
            body{
                overflow-y:auto; 
            }
            #predictionPlace{
                width:90%;
                height:20px;
                border-radius: 10px;
                display:grid;
                grid-template-columns: 10% 90%;

            }
            #buy{
                height:10px;
                width:100%;
                background:rgb(89, 250, 2,0.7);
                border-top-left-radius: 10px;
                border-bottom-left-radius: 10px;
                padding-left:4px;

            }
            #sell{
                height:10px;
                width:100%;
                border-top-right-radius: 10px;
                border-bottom-right-radius: 10px;
                background:rgb(245, 15, 26,0.7);
                padding-left:4px;
            }
            .titleGrid{

                width:10%;
                display: grid;
                grid-template-columns: auto auto;

            }
            .titleGrid button{
                background:none;
                border:0px;
                width:30px;
                color:gray;
                transition: 0.2s;
                color:gray;
                font-size:15px;
                margin-top:10px;
            }
            .hidden{
                opacity: 0;
                z-index:-1;
                transition:0.3s;
            }
            .blackout{
                position:fixed;
                top:0px;
                left:0px;
                width:100%;
                height:100vh;

                background: rgb(0,0,0,0.5);
                transition: 0.5s
            }
            .popup{
                position:fixed;
                width:60%;
                height:40vh;
                background:white;
                top:30vh;
                bottom:30vh;
                left:20%;
                right:20%;
                border-radius: 10px;
                transition: 0.5s;
                padding:15px;
            }
            .transparent{
                background:none;
                border:0px;
            }
            .close{
                position:relative;
                left:5px;
                top:5px;
            }
            .bottomButton{
                position: relative;
                width:50%;
                left:25%;
                right:25%;
                
            }

    </style>

{% endblock %}